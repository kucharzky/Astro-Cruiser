#include "asteroid.h"

std::vector<std::vector<int>> Asteroid:: mesh = {
		{0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0},
		{0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0},
		{0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0},
		{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0},
		{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
		{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
		{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
		{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0},
		{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0},
		{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0},
		{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0},
		{0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0},
		{0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0},
		{0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0},
		{0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0},
		{0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0}
};

Asteroid::Asteroid(Vector2 position)
{
	this->position = position;
	
	for (int i{ 0 }; i < mesh.size(); i++)
	{
		for (int j{ 0 }; j < mesh[i].size(); j++)
		{
			if (mesh[i][j] == 1)
			{
				decays.push_back(Decay({ position.x + j * 4, position.y + i * 4 }));
			}
		}
	}
}

void Asteroid::Draw()
{
	for (auto& d : decays) d.Draw();
}